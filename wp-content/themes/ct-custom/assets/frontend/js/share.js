const u=".share-with-friend";function n(i,t){if(!i)throw new Error("Assertion failed: "+(t||""))}class a{constructor(){n(typeof document<"u","document must exist"),n(typeof navigator<"u","navigator must exist"),this._buttons=document.querySelectorAll(u),this._buttons.length&&(this._supportsShare=typeof navigator.share=="function",this._init())}_init(){n(this._buttons instanceof NodeList,"buttons must be a NodeList"),n(this._buttons.length>0,"buttons must have at least one element");let t=0;for(let e=0;e<this._buttons.length&&!(t>=20);e++){t++;const s=this._buttons[e];if(!this._supportsShare){s.remove();continue}s.addEventListener("click",o=>this._handleClick(o))}}_handleClick(t){n(t instanceof Event,"e must be an Event"),n(t.currentTarget instanceof HTMLElement,"target must be an HTMLElement");const e=t.currentTarget,s=e.dataset.url||window.location.href,o=e.dataset.title||document.title,r=e.dataset.text||"";navigator.share({title:o,text:r,url:s}).catch(()=>{})}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{new a}):new a;
