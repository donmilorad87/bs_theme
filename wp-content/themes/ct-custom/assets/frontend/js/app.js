const M="ct_theme";const _="light",g="dark";function d(o,t){if(!o)throw new Error("Assertion failed: "+(t||""))}class y{constructor(){d(typeof document<"u","document must exist"),d(typeof window<"u","window must exist"),this._bindToggleButtons(),this._listenForSystemPreferenceChange()}_getCurrentTheme(){const t=document.body.getAttribute("data-theme");return d(document.body!==null,"document.body must exist"),d(typeof t=="string"||t===null,"data-theme must be string or null"),t===g||t===_?t:_}_syncToggleAria(){const t=document.querySelectorAll(".theme-toggle"),e=this._getCurrentTheme()===g;d(t!==null,"querySelectorAll must return a NodeList"),d(typeof e=="boolean","isDark must be boolean");for(let n=0;n<t.length&&n<10;n++)t[n].setAttribute("aria-checked",e?"true":"false")}_setTheme(t){d(t===_||t===g,"theme must be light or dark"),d(document.body!==null,"document.body must exist"),document.body.setAttribute("data-theme",t),document.cookie=M+"="+t+";path=/;max-age=31536000;SameSite=Lax",this._syncToggleAria()}_handleToggleClick(){const t=this._getCurrentTheme();d(t===_||t===g,"current theme must be valid");const e=t===g?_:g;d(e!==t,"next theme must differ from current"),this._setTheme(e)}_bindToggleButtons(){d(typeof document<"u","document must exist"),d(typeof document.addEventListener=="function","addEventListener must exist"),document.addEventListener("click",t=>{t.target.closest(".theme-toggle")&&this._handleToggleClick()}),this._syncToggleAria()}_listenForSystemPreferenceChange(){if(d(typeof window<"u","window must exist"),d(typeof document<"u","document must exist"),!window.matchMedia)return;window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{document.cookie.match(/(?:^|;\s*)ct_theme=(light|dark)/)||this._setTheme(e.matches?g:_)})}}const m=100;function h(o,t){if(!o)throw new Error("Assertion failed: "+(t||""))}class v{constructor(){if(h(typeof document<"u","document must exist"),h(typeof window<"u","window must exist"),this._container=document.getElementById("site-navigation"),!!this._container&&(this._button=this._container.getElementsByTagName("button")[0],!(typeof this._button>"u"))){if(this._menu=this._container.getElementsByTagName("ul")[0],typeof this._menu>"u"){this._button.style.display="none";return}this._menu.classList.add("nav-menu"),this._bindMenuToggle(),this._bindKeyboardFocus(),this._bindTouchSubmenus(),this._bindOverflowFlip()}}_bindMenuToggle(){h(typeof document<"u","document must exist"),h(typeof document.addEventListener=="function","addEventListener must exist"),document.addEventListener("click",t=>{const e=t.target.closest(".menu-toggle");if(!e)return;const n=e.closest("#site-navigation");if(!n)return;const s=n.classList.toggle("toggled");e.setAttribute("aria-expanded",s?"true":"false")})}_bindKeyboardFocus(){h(this._container instanceof HTMLElement,"container must be an HTMLElement"),h(typeof this._container.addEventListener=="function","addEventListener must exist"),this._container.addEventListener("focusin",this._handleFocusToggle,!0),this._container.addEventListener("focusout",this._handleFocusToggle,!0)}_handleFocusToggle(t){let e=t.target;const n=20;let s=0;for(;e&&!e.classList.contains("nav-menu")&&s<n;)e.tagName&&e.tagName.toLowerCase()==="li"&&e.classList.toggle("focus"),e=e.parentElement,s++}_bindTouchSubmenus(){"ontouchstart"in window&&(h(typeof document<"u","document must exist"),h(typeof document.addEventListener=="function","addEventListener must exist"),document.addEventListener("touchstart",t=>{const e=t.target.closest(".menu-item-has-children > a, .page_item_has_children > a");if(!e)return;const n=e.parentNode;if(n)if(n.classList.contains("focus"))n.classList.remove("focus");else{t.preventDefault();const s=n.parentNode.children,r=s.length<m?s.length:m;for(let a=0;a<r;a++)n!==s[a]&&s[a].classList.remove("focus");n.classList.add("focus")}},!1))}_bindOverflowFlip(){this._topLevelItems=this._container.querySelectorAll(".menu > .menu-item-has-children"),this._nestedItems=this._container.querySelectorAll(".sub-menu .menu-item-has-children"),h(this._topLevelItems!==null,"top-level items must be a NodeList"),h(this._nestedItems!==null,"nested items must be a NodeList"),h(this._topLevelItems.length<=m,"top-level count within bounds"),h(this._nestedItems.length<=m,"nested count within bounds");const t=this._nestedItems.length<m?this._nestedItems.length:m;for(let e=0;e<t;e++)this._nestedItems[e].addEventListener("mouseenter",this._checkNestedOverflow,!1);this._resizeTimer=0,this._preCheckOverflow(),window.addEventListener("resize",()=>{clearTimeout(this._resizeTimer),this._resizeTimer=setTimeout(()=>this._preCheckOverflow(),100)})}_preCheckOverflow(){h(this._container instanceof HTMLElement,"container must be an HTMLElement"),this._preCheckTopLevel(),this._preCheckNested()}_preCheckTopLevel(){h(this._topLevelItems!==null,"top-level items must exist");const t=this._topLevelItems,e=t.length<m?t.length:m,n=document.documentElement.clientWidth,s=[];for(let l=0;l<e;l++){const i=t[l],c=i.querySelector(":scope > .sub-menu");c&&s.push({li:i,subMenu:c})}if(s.length===0)return;const r=s.length<m?s.length:m,a=[];for(let l=0;l<r;l++){const i=s[l].subMenu;a.push({display:i.style.display,visibility:i.style.visibility,pointerEvents:i.style.pointerEvents}),i.style.display="block",i.style.visibility="hidden",i.style.pointerEvents="none",s[l].li.classList.remove("sub-menu--right")}const u=[];for(let l=0;l<r;l++)u.push(s[l].subMenu.getBoundingClientRect());for(let l=0;l<r;l++)u[l].right>n&&s[l].li.classList.add("sub-menu--right"),s[l].subMenu.style.display=a[l].display,s[l].subMenu.style.visibility=a[l].visibility,s[l].subMenu.style.pointerEvents=a[l].pointerEvents}_preCheckNested(){h(this._nestedItems!==null,"nested items must exist");const t=this._nestedItems,e=t.length<m?t.length:m,n=10,s=document.documentElement.clientWidth,r=[];for(let i=0;i<e;i++){const c=t[i],p=c.querySelector(":scope > .sub-menu");p&&(!c.parentElement||!c.parentElement.classList.contains("sub-menu")||r.push({item:c,subMenu:p}))}if(r.length===0)return;const a=r.length<m?r.length:m,u=new Map;for(let i=0;i<a;i++){let c=r[i].subMenu,p=0;for(;c&&c!==this._container&&p<n;)c.classList&&c.classList.contains("sub-menu")&&!u.has(c)&&window.getComputedStyle(c).display==="none"&&u.set(c,{display:c.style.display,visibility:c.style.visibility,pointerEvents:c.style.pointerEvents}),c=c.parentElement,p++}for(let i=0;i<a;i++)r[i].item.classList.remove("sub-menu--left");u.forEach(function(i,c){c.style.display="block",c.style.visibility="hidden",c.style.pointerEvents="none"});const l=[];for(let i=0;i<a;i++)l.push(r[i].subMenu.getBoundingClientRect());for(let i=0;i<a;i++)l[i].right>s&&r[i].item.classList.add("sub-menu--left");u.forEach(function(i,c){c.style.display=i.display,c.style.visibility=i.visibility,c.style.pointerEvents=i.pointerEvents})}_checkNestedOverflow(){const t=this.querySelector(":scope > .sub-menu");if(!t||!this.parentElement||!this.parentElement.classList.contains("sub-menu"))return;this.classList.remove("sub-menu--left");const e=t.getBoundingClientRect(),n=document.documentElement.clientWidth;e.right>n?this.classList.add("sub-menu--left"):e.left<0&&this.classList.remove("sub-menu--left")}}const x=300,L=999999,E="ct-back-to-top--visible";function f(o,t){if(!o)throw new Error("Assertion failed: "+(t||""))}class T{constructor(){f(typeof document<"u","document must exist"),f(typeof window<"u","window must exist"),this._button=document.getElementById("ct-back-to-top"),this._ticking=!1,this._button&&(f(this._button instanceof HTMLElement,"Button must be an HTMLElement"),f(typeof this._button.classList<"u","classList must exist"),this._bindScroll(),this._bindClick(),this._onScroll())}_bindScroll(){f(typeof window.addEventListener=="function","addEventListener must exist"),f(typeof this._ticking=="boolean","ticking must be boolean"),window.addEventListener("scroll",()=>{this._ticking||(this._ticking=!0,window.requestAnimationFrame(()=>{this._onScroll(),this._ticking=!1}))})}_bindClick(){f(this._button!==null,"Button must exist"),f(typeof this._button.addEventListener=="function","addEventListener must exist"),this._button.addEventListener("click",()=>{this._scrollToTop()})}_onScroll(){f(typeof window.scrollY=="number","scrollY must be a number");const t=Math.min(window.scrollY,L);f(t>=0&&t<=L,"scrollY must be in range"),t>x?this._button.classList.add(E):this._button.classList.remove(E)}_scrollToTop(){f(typeof window.scrollTo=="function","scrollTo must exist"),f(typeof window<"u","window must exist"),window.scrollTo({top:0,behavior:"smooth"})}}const w="ct_auth_token";class C{constructor(t){this._cacheVersion=t||"0"}getToken(){return localStorage.getItem(w)}setToken(t){localStorage.setItem(w,t)}clearToken(){localStorage.removeItem(w)}}class O{constructor(t,e,n){this._restUrl=t,this._nonce=e,this._store=n,this._onUnauthorized=null}setUnauthorizedHandler(t){this._onUnauthorized=t}setNonce(t){this._nonce=t}post(t,e){return this._request("POST",t,e,!1)}postAuth(t,e){return this._request("POST",t,e,!0)}getAuth(t){const e=this._store.getToken(),n={"X-WP-Nonce":this._nonce};return e&&(n.Authorization="Bearer "+e),fetch(this._restUrl+t,{method:"GET",headers:n,credentials:"same-origin"}).then(s=>(s.status===401&&this._onUnauthorized&&this._onUnauthorized(),s.json()))}uploadAuth(t,e){const n=this._store.getToken(),s={"X-WP-Nonce":this._nonce};return n&&(s.Authorization="Bearer "+n),fetch(this._restUrl+t,{method:"POST",headers:s,credentials:"same-origin",body:e}).then(r=>r.json())}_request(t,e,n,s){const r={"Content-Type":"application/json","X-WP-Nonce":this._nonce};if(s){const a=this._store.getToken();a&&(r.Authorization="Bearer "+a)}return fetch(this._restUrl+e,{method:t,headers:r,credentials:"same-origin",body:JSON.stringify(n)}).then(a=>a.json())}}function b(o,t){if(!o)throw new Error("Assertion failed: "+(t||""))}class k{constructor(){if(b(typeof document<"u","document must exist"),b(typeof window<"u","window must exist"),this._authLinks=document.querySelector(".ct-auth-links"),!this._authLinks)return;const t=this._authLinks.getAttribute("data-rest-url")||"",e=this._authLinks.getAttribute("data-nonce")||"",n=this._authLinks.getAttribute("data-cache-version")||"0";this._store=new C(n),this._api=new O(t,e,this._store),this._bindLogout()}_bindLogout(){b(this._authLinks!==null,"authLinks must exist"),b(typeof this._authLinks.addEventListener=="function","addEventListener must exist"),this._authLinks.addEventListener("click",t=>{t.target.closest('[data-ct-auth-action="logout"]')&&(t.preventDefault(),this._store.clearToken(),this._api.post("logout",{}).then(()=>{window.location.reload()}).catch(()=>{window.location.reload()}))})}}const N=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,I=20;class S{constructor(){const t=document.querySelectorAll(".ct-contact-form");if(!t.length)return;this._instances=[];let e=0;for(let n=0;n<t.length&&!(e>=I);n++)e++,this._instances.push(new q(t[n]))}}class q{constructor(t){this._form=t,this._restUrl=this._form.getAttribute("data-rest-url")||"",this._nonce=this._form.getAttribute("data-nonce")||"",this._pointer=this._form.getAttribute("data-pointer")||"contact_us",this._submitting=!1,this._bindSubmit()}_bindSubmit(){this._form.addEventListener("submit",t=>{t.preventDefault(),this._handleSubmit()})}async _handleSubmit(){if(this._submitting)return;const t=this._form.elements.name.value.trim(),e=this._form.elements.email.value.trim(),n=this._form.elements.phone.value.trim(),s=this._form.elements.message.value.trim(),r=this._validate(t,e,s);if(r.length>0){this._showMessage("error",r.join(" "));return}this._submitting=!0,this._setLoading(!0),this._clearMessages();try{const a=await fetch(this._restUrl+"/contact/submit",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":this._nonce},credentials:"same-origin",body:JSON.stringify({name:t,email:e,phone:n,message:s,pointer:this._pointer})}),u=await a.json();if(this._setLoading(!1),this._submitting=!1,a.status===429){this._showMessage("error",u.message||"Too many submissions. Please try again later.");return}u.success?(this._showMessage("success",u.message||"Message sent successfully."),this._form.elements.name.value="",this._form.elements.email.value="",this._form.elements.phone.value="",this._form.elements.message.value=""):this._showMessage("error",u.message||"Failed to send message.")}catch{this._setLoading(!1),this._submitting=!1,this._showMessage("error","A network error occurred. Please try again.")}}_validate(t,e,n){const s=[];return t||s.push("Name is required."),e?N.test(e)||s.push("Please enter a valid email address."):s.push("Email is required."),n||s.push("Message is required."),s}_showMessage(t,e){const n=this._form.querySelector(".ct-contact-form__messages");if(!n)return;n.innerHTML="";const s=document.createElement("div");s.className="ct-contact-form__message fs14 ct-contact-form__message--"+t,s.textContent=e,n.appendChild(s)}_clearMessages(){const t=this._form.querySelector(".ct-contact-form__messages");t&&(t.innerHTML="")}_setLoading(t){const e=this._form.querySelector(".ct-contact-form__submit");e&&(e.disabled=t,t?e.classList.add("ct-contact-form__submit--loading"):e.classList.remove("ct-contact-form__submit--loading"))}}class A{constructor(){this.switcher=document.querySelector(".ct-lang-switcher"),this.switcher&&(this.toggle=this.switcher.querySelector(".ct-lang-switcher__toggle"),this.dropdown=this.switcher.querySelector(".ct-lang-switcher__dropdown"),this.items=this.switcher.querySelectorAll(".ct-lang-switcher__link"),this.isOpen=!1,this.bindEvents())}bindEvents(){this.toggle&&(this.toggle.addEventListener("click",t=>{t.preventDefault(),this.toggleDropdown()}),document.addEventListener("click",t=>{this.isOpen&&!this.switcher.contains(t.target)&&this.close()}),this.toggle.addEventListener("keydown",t=>{t.key==="Enter"||t.key===" "?(t.preventDefault(),this.toggleDropdown()):t.key==="Escape"&&this.close()}),this.dropdown&&this.dropdown.addEventListener("keydown",t=>{this.handleDropdownKeydown(t)}))}toggleDropdown(){this.isOpen?this.close():this.open()}open(){this.isOpen=!0,this.switcher.classList.add("ct-lang-switcher--open"),this.toggle&&this.toggle.setAttribute("aria-expanded","true"),this.items.length>0&&this.items[0].focus()}close(){this.isOpen=!1,this.switcher.classList.remove("ct-lang-switcher--open"),this.toggle&&this.toggle.setAttribute("aria-expanded","false")}handleDropdownKeydown(t){const e=Array.from(this.items),n=document.activeElement,s=e.indexOf(n);if(t.key==="ArrowDown"){t.preventDefault();const r=(s+1)%e.length;e[r].focus()}else if(t.key==="ArrowUp"){t.preventDefault();const r=(s-1+e.length)%e.length;e[r].focus()}else t.key==="Escape"&&(this.close(),this.toggle&&this.toggle.focus())}}const D=50;function B(o,t={},e=null){const n=window.ctTranslationData?.translations||{};if(!n[o])return o;let s=n[o];const r=["singular","zero","one","two","few","many","other"];if(typeof s=="object"&&s!==null)if(typeof e=="string"&&r.includes(e))s=s[e]||s.singular||o;else if(e!==null){const u=P(window.ctTranslationData?.iso2||"en",e);s=s[u]||s.other||s.singular||o}else s=s.singular||o;if(typeof s!="string")return o;let a=0;for(const u in t){if(a>=D)break;a++,s=s.replaceAll("##"+u+"##",String(t[u]))}return s=s.replace(/##[a-zA-Z0-9_]+##/g,""),s}function P(o,t){const e=Math.abs(t),n=e%10,s=e%100;return["ja","zh","ko","tr","vi","th","id","ms"].includes(o)?"other":["fr","hi","fa"].includes(o)?e<=1?"one":"other":["sr","ru","uk","be","hr","bs"].includes(o)?n===1&&s!==11?"one":n>=2&&n<=4&&(s<12||s>14)?"few":"other":["cs","sk"].includes(o)?e===1?"one":e>=2&&e<=4?"few":"other":o==="pl"?e===1?"one":n>=2&&n<=4&&(s<12||s>14)?"few":"many":o==="ar"?e===0?"zero":e===1?"one":e===2?"two":s>=3&&s<=10?"few":s>=11&&s<=99?"many":"other":e===1?"one":"other"}window.ct_translate=B;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{new y,new v,new T,new k,new S,new A}):(new y,new v,new T,new k,new S,new A);
